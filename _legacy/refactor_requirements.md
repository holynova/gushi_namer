# 古诗文起名项目重构 - 功能需求确认

## 项目概述
这是一个基于中国古典诗词（诗经、楚辞、唐诗、宋词等）的起名工具。用户输入姓氏，选择诗词类别，系统从相应诗词中随机抽取字组合成名字，并展示名字来源的诗句。

## 当前技术栈
- Webpack 3
- jQuery
- Babel 6
- SCSS
- 原生 JavaScript (ES6)

## 目标技术栈
- Vite
- pnpm
- TypeScript
- React 18
- Tailwind CSS

## 核心功能列表

### 1. 诗词库选择
- [ ] 支持7种诗词库选择：
  - 诗经
  - 楚辞
  - 唐诗
  - 宋词
  - 乐府诗集
  - 古诗三百首
  - 著名辞赋
- [ ] 使用单选按钮（Radio）切换不同诗词库
- [ ] 切换诗词库时动态加载对应的 JSON 数据

### 2. 姓氏输入
- [ ] 提供文本输入框让用户输入姓氏
- [ ] 默认姓氏为"李"

### 3. 名字生成
- [ ] 点击"起名"按钮生成名字
- [ ] 每次生成 6 个名字（配置可调）
- [ ] 名字为两个字（从诗句中随机选取）
- [ ] 过滤敏感字和不雅字符
- [ ] 过滤标点符号

### 4. 结果展示
- [ ] 展示完整名字（姓 + 名）
- [ ] 展示名字来源的诗句（高亮名字中的字）
- [ ] 展示诗词出处（书名 • 篇名）
- [ ] 展示作者信息（朝代 + 作者名）
- [ ] 卡片式布局，响应式设计

### 5. 加载状态
- [ ] 切换诗词库时显示加载动画
- [ ] 生成名字时显示加载状态（延迟 300ms 显示）

### 6. 响应式设计
- [ ] 桌面端：60% 宽度，最大 800px
- [ ] 移动端：80% 宽度
- [ ] 名字卡片自适应布局

## 数据结构

### JSON 数据格式
```json
{
  "content": "诗词正文内容",
  "title": "诗词标题",
  "author": "作者",
  "book": "书名",
  "dynasty": "朝代"
}
```

## UI/UX 要求

### 样式特点
- [ ] 深色背景主题
- [ ] 卡片式名字展示
- [ ] 名字大字号突出显示（3rem）
- [ ] 诗句中的名字字符加粗高亮
- [ ] 阴影效果增强卡片层次感
- [ ] 绿色主题色调

### 交互体验
- [ ] 按钮悬停效果
- [ ] 平滑的加载动画
- [ ] 支持键盘回车键触发生成（可选）

## 需要确认的问题

1. **是否保留调试模式？**
   - 当前代码有 `debugMode` 配置，用于测试

2. **是否需要添加新功能？**
   - 收藏喜欢的名字
   - 分享功能
   - 名字历史记录
   - 名字评分/解释

3. **样式风格是否需要调整？**
   - 保持当前深色主题还是改为浅色/可切换
   - 是否需要更现代化的设计（如渐变、动画效果）

4. **是否需要优化名字生成算法？**
   - 当前是完全随机，是否需要：
     - 考虑字的音韵搭配
     - 避免生成重复名字
     - 提供更多筛选选项（如字的含义、五行等）

5. **部署方式？**
   - 纯静态部署（当前方式）
   - 是否需要后端服务

6. **浏览器兼容性要求？**
   - 现代浏览器即可
   - 还是需要兼容 IE11 等老旧浏览器

7. **是否需要单元测试？**
   - 为核心逻辑添加测试

8. **国际化需求？**
   - 是否需要英文版本

### 以上问题的答案
1. 保留
2. 不增加新功能
3. 保持原风格
4. 不优化
5. 纯静态, 词库的文件保持动态加载, 不需要一次性加载所有词库
6. 无
7. 无
8. 不需要

## 项目结构规划（初步）

```
gushi_namer/
├── src/
│   ├── components/          # React 组件
│   │   ├── BookSelector/    # 诗词库选择器
│   │   ├── FamilyNameInput/ # 姓氏输入
│   │   ├── NameCard/        # 名字卡片
│   │   ├── NameGenerator/   # 名字生成按钮
│   │   └── Loading/         # 加载动画
│   ├── hooks/               # 自定义 Hooks
│   ├── utils/               # 工具函数
│   │   ├── namer.ts         # 名字生成逻辑
│   │   ├── textProcessor.ts # 文本处理
│   │   └── random.ts        # 随机数工具
│   ├── types/               # TypeScript 类型定义
│   ├── data/                # JSON 数据文件
│   ├── App.tsx              # 主应用组件
│   ├── main.tsx             # 入口文件
│   └── index.css            # Tailwind 样式
├── public/                  # 静态资源
├── package.json
├── tsconfig.json
├── vite.config.ts
├── tailwind.config.js
└── postcss.config.js
```

请确认以上功能需求和待确认问题，我将根据您的反馈制定详细的重构计划。

## 特殊需求
词库的文件保持动态加载, 不需要一次性加载所有词库